<!DOCTYPE html>
<!--
Parallax sizing for mobile
Media queries
Hamburger menu/site nav
Margins, padding, spacing
Flexbox image & text arrangement
Text styles
100vh mobile sizing fix
Text box & button styles
Text animations (animate.css)
Fish background (w/ animations?)
Add hidden/revealed CTA section
Call-to-action section
Text & image fade on scroll
Add fish to parallax background
Learn More pop-ups in lobbying section
Finalize circle packing section
Update all text/image content
Compress images
Gyroscope interaction
Implement additional shazam
-->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="main.js"></script>

    <title>Static Template</title>
  </head>

  <body>
    <header class="txtDark">
      <audio id="audio" autoplay loop>
        <source
          src="https://docs.google.com/uc?export=download&id=1JEn71XOqrVZuDqeOgMG1ZQgdDDoJPWp5"
          type="audio/wav"
        />
      </audio>
      <figure><img id="volume" src="images/volume.png" /></figure>
      <script>
        let volume = document.querySelector("#volume");
        let audio = document.querySelector("#audio");
        volume.addEventListener("click", function () {
          if (audio.muted == true) {
            audio.muted = false;
            volume.src = "images/volume.png";
          } else {
            audio.muted = true;
            volume.src = "images/mute.png";
          }
        });
      </script>
      <div
        id="menuButton"
        style="width: 2rem; height: 2rem; background-color: #000;"
      ></div>
    </header>

    <div id="menu" hidden="true">
      <nav>
        <a id="intro"><h2 class="scrollBut">No C.A.P.</h2></a>
        <a id="who"><h2 class="scrollBut">Who Is Responsible?</h2></a>
        <a id="how"><h2 class="scrollBut">How Is This Happening?</h2></a>
        <a id="what"><h2 class="scrollBut">What Can You Do?</h2></a>
      </nav>
      <script>
        function toggleMenu() {
          if (menu.hidden == true) {
            menu.style.display = "block";
            menu.hidden = false;
          } else if (menu.hidden == false) {
            menu.style.display = "none";
            menu.hidden = true;
          }
        }

        menuButton.addEventListener("click", toggleMenu);

        intro.onclick = (e) => {
          document.getElementById("1").scrollIntoView({ behavior: "smooth" });
          toggleMenu();
        };
        who.onclick = (e) => {
          document.getElementById("2").scrollIntoView({ behavior: "smooth" });
          toggleMenu();
        };
        how.onclick = (e) => {
          document.getElementById("3").scrollIntoView({ behavior: "smooth" });
          toggleMenu();
        };
        what.onclick = (e) => {
          document.getElementById("4").scrollIntoView({ behavior: "smooth" });
          toggleMenu();
        };
      </script>
    </div>

    <main class="scroll-container parallax">
      <div class="scroll-center txtDark" id="1">
        <section class="content parallax__group">
          <h1>No C.A.P.</h1>
          <p>No Corporate Accountability Present</p>
          <p>
            Greenhouse gas emissions are killing our planet and corporations are
            at fault.
          </p>
        </section>
      </div>

      <div class="scroll-center txtDark">
        <section class="content parallax__group">
          <h2>WHAT ARE GHGs?</h2>
          <p>
            <b>Greenhouse gases (GHGs)</b> are gases that trap heat in earth's
            atmosphere and are released primarily by burning fossil fuels.
          </p>
          <p>This results in:</p>
          <ul>
            <li>Rising Sea Levels</li>
            <li>Higher Temperatures</li>
            <li>Extreme Weather</li>
          </ul>
        </section>
      </div>

      <div class="scroll-center txtDark">
        <section class="content parallax__group">
          <h2>GHG CONSEQUENCES</h2>
          <p>
            The earth's surface temperature has risen by
            <b>1.44&#176; Fahrenheit</b>. Large corporations are at fault for
            <b>50% of that change.</b>
          </p>
          <section>
            <figure class="img-cont">
              <img src="images/thermometer.png" />
            </figure>
            <p class="bodyBold">1.44&#176; Fahrenheit increase</p>
            <div class="bodyBold">
              <p class="marginClear">Corporate Responsibility</p>
              <p>0.72&#176; Fahrenheit</p>
            </div>
            <span class="highlight">50%</span>
            <p class="bodyBold">due to corporations</p>
          </section>
        </section>
      </div>

      <div class="scroll-center txtLight">
        <section class="content parallax__group waterRise">
          <h2 class="txtDark">GHG CONSEQUENCES</h2>
          <div class="box1">
            <p class="bodyBold">7 in. sea level increase</p>
            <p>
              GHG emissions have caused a global sea level increase of
              <b>7 inches</b> and about <b>35%</b> of the change is attributed
              to
              <b>large corporations.</b>
            </p>
          </div>
          <div class="box2">
            <p class="bodyBold">2.28 in. due to corporations</p>
            <span class="highlight">35%</span>
          </div>
        </section>
      </div>

      <div class="scroll-center txtDark">
        <section class="content parallax__group">
          <h2>HOW WE COMPARE</h2>
          <div class="boxLight">
            <p>
              In 2019, the average U.S. citizen produced equivalent to around
              8.1 metric tons of CO2. When you multiply that by the population,
              it comes out to be a pretty big number.
            </p>
            <p class="marginClear">
              Corporate facilities across the country that emit at a large scale
              hold much more of the responsibility. On average, one of these
              large facilities anually emits an amount of GHGs equivalent to
              41,193 citizens - that’s 338,273.87 metric tons of CO2 each.
            </p>
          </div>
          <span class="highlight">8.1</span>
          <p class="bodyBold">per person</p>
          <span class="highlight">41,193</span>
          <p class="bodyBold">people equal 1 corporation</p>
        </section>
      </div>

      <div class="scroll-center txtDark">
        <section class="content parallax__group circlePacking">
          <div id="dataVis"></div>
          <div class="boxLight">
            <h3 id="dataLabel"></h3>
            <p id="dataInfo" class="marginClear">""</p>
          </div>
          <div id="socials">
            <a
              href="https://twitter.com/share?ref_src=twsrc%5Etfw"
              class="twitter-share-button"
              data-show-count="false"
              >Tweet</a
            >
            <script
              async
              src="https://platform.twitter.com/widgets.js"
              charset="utf-8"
            ></script>
          </div>

          <script type="module">
            import {
              Runtime,
              Inspector
            } from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
            import define from "https://api.observablehq.com/d/51d34fdd73b2a397.js?v=3";
            new Runtime().module(define, (name) => {
              if (name === "dataVis") {
                return new Inspector(document.querySelector("#dataVis"));
              }
              if (name === "dataInfo") {
                return {
                  pending() {
                    document.querySelector("#dataInfo").innerHTML = "";
                  },
                  fulfilled(value) {
                    if (value != "value => {return value}") {
                      //console.log(value)
                      document.querySelector("#dataInfo").innerHTML = value;
                    }
                  }
                };
                //return new Inspector(document.querySelector("#dataInfo"));
              }
              if (name === "dataLabel") {
                return {
                  pending() {
                    document.querySelector("#dataLabel").innerHTML = "";
                  },
                  fulfilled(value) {
                    if (value != "value => {return value}") {
                      document.querySelector("#dataLabel").innerHTML = value;
                    }
                  }
                };
                //return new Inspector(document.querySelector("#dataLabel"));
              }
            });
          </script>
        </section>
      </div>

      <div class="scroll-center txtDark">
        <section class="content parallax__group" id="2">
          <h1>Who is Responsible</h1>
        </section>
      </div>

      <div class="scroll-center txtLight">
        <section class="content parallax__group">
          <figure class="img-cont"><img src="images/lightbulb.png" /></figure>
          <h2>POWER PLANTS</h2>
          <p class="boxMid">
            Our electricity comes from
            <b>power plants, the greatest polluters</b> of GHG emissions.
            Responible for <b>58.5%</b> from all sectors.
          </p>
          <button>LEARN MORE</button>
        </section>
      </div>

      <div class="scroll-center txtLight">
        <section class="content parallax__group">
          <figure class="img-cont"><img src="images/helmet.png" /></figure>
          <h2>PETROLEUM AND NATURAL GAS</h2>
          <p class="boxMid">
            Our electricity comes from
            <b>power plants, the greatest polluters</b> of GHG emissions.
            Responible for <b>58.5%</b> from all sectors.
          </p>
          <button>LEARN MORE</button>
        </section>
      </div>

      <div class="scroll-center txtLight">
        <section class="content parallax__group">
          <figure class="img-cont"><img src="images/oil.png" /></figure>
          <h2>REFINERIES</h2>
          <p class="boxMid">
            Our electricity comes from
            <b>power plants, the greatest polluters</b> of GHG emissions.
            Responible for <b>58.5%</b> from all sectors.
          </p>
          <button>LEARN MORE</button>
        </section>
      </div>

      <div class="scroll-center txtLight">
        <section class="content parallax__group">
          <figure class="img-cont"><img src="images/bottle.png" /></figure>
          <h2>CHEMICALS</h2>
          <p class="boxMid">
            Our electricity comes from
            <b>power plants, the greatest polluters</b> of GHG emissions.
            Responible for <b>58.5%</b> from all sectors.
          </p>
          <button>LEARN MORE</button>
        </section>
      </div>

      <div class="scroll-center txtLight">
        <section class="content parallax__group" id="3">
          <h1>How is this happening?</h1>
        </section>
      </div>

      <div class="scroll-center txtLight">
        <section class="content parallax__group">
          <h2>PARIS AGREEMENT ISSUES</h2>
          <p class="boxDark">
            There’s the Paris Agreement, but what other initiatives are we
            actually pushing & working towards globally/nationally/locally?
          </p>
          <p class="boxDark">
            Current national targets under the Paris Agreement would lead to
            52–58 gigatons (Gt) CO2-equivalents (CO2e) per year by 2030 -- not
            enough to meet the 1.5oC target. [1.5 target meaning we need to keep
            the global temperature rise below 1.5 degrees above pre-industrial
            earth]
          </p>
          <button>LEARN MORE</button>
        </section>
      </div>

      <div class="scroll-center txtLight">
        <section class="content parallax__group">
          <h2>STATE IRRESPONSIBILITY</h2>
          <p class="boxDark">
            We’ve known for a while that we need comprehensive action, but only
            a handful of states have actually taken action. Even in states where
            it has been more successful, such as California, there are still
            setbacks.
          </p>
          <button>CALIFORNIA CASE STUDY</button>
        </section>
      </div>

      <div class="scroll-center txtLight">
        <section class="content parallax__group">
          <h2>LOBBYING</h2>
          <p class="boxDark">
            Every year, the world's five largest publicly owned oil and gas
            companies spend approximately $200 million on lobbying designed to
            control, delay or block binding climate-motivated policy. Some also
            fund anti-climate change research.
          </p>
        </section>
      </div>

      <div class="scroll-center parallax__group parallaxZ1 txtLight">
        <section class="content parallax__group" id="4">
          <h1>What can I do?</h1>
          <button>WHAT'S NEXT</button>
        </section>
        <figure class="bg-img parallax__layer parallax__layer--deep">
          <img
            class="backbuild"
            src="images/full_background.png"
            style="margin-left: 100px;"
          />
        </figure>
        <figure class="bg-img parallax__layer parallax__layer--far">
          <img
            class="backbuild"
            src="images/back_buildings.png"
            style="margin-left: 200px;"
          />
        </figure>
        <figure class="bg-img parallax__layer parallax__layer--back">
          <img
            class="backbuild"
            src="images/front_building.png"
            style="margin-right: 50px; margin-bottom: -50px;"
          />
        </figure>
        <script>
          let bgAll = document.querySelectorAll(".backbuild");

          if (typeof DeviceOrientationEvent.requestPermission === "function") {
            DeviceOrientationEvent.requestPermission()
              .then((permissionState) => {
                if (permissionState === "granted") {
                  window.ondeviceorientation = function (event) {
                    var x = event.gamma;
                    var y = event.alpha;

                    let move = `translate(${x * 0.8}px,${y * 0.8}px)`;

                    for (let bg of bgAll) {
                      bg.style.transform = move;
                    }

                    console.log(move);
                  };
                }
              })
              .catch(console.error);
          } else {
            window.ondeviceorientation = function (event) {
              var x = event.gamma;
              var y = event.alpha;

              let move = `translate(${x * 0.8}px,${y * 0.8}px)`;

              for (let bg of bgAll) {
                bg.style.transform = move;
              }

              console.log(move);
            };
          }

          // window.ondeviceorientation = function (event) {
          //   var x = event.gamma;
          //   var y = event.alpha;

          //   let move = `translate(${x * 0.8}px,${y * 0.8}px)`;

          //   for (let bg of bgAll) {
          //     bg.style.transform = move;
          //   }

          //   console.log(move);
          // };

          let vh = window.innerHeight * 0.01;
          document.documentElement.style.setProperty("--vh", `${vh}px`);

          window.addEventListener("resize", () => {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty("--vh", `${vh}px`);
          });
        </script>
      </div>
    </main>
    <!-- <footer class="txtDark">
      <h4>Scroll to Discover</h4>
    </footer> -->
  </body>
</html>
