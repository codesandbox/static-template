<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LoveBoard demo</title>



    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">



    <link rel="stylesheet" href="gridBlocks.css" />
    <link rel="stylesheet" href="slider.css" />

    <link rel="stylesheet" href="demo.css" />
    <script src="script.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gridstack.js/5.0.0/gridstack-h5.min.js"
      integrity="sha512-LfvnPzPyY1n+xsUV87eJB5u7EnDda5CI0FrKMLUV2szh1i6HS7/zy626sC0HDPh9HoEG5FtW/tg9TDWzeD4dhw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gridstack.js/5.0.0/gridstack-extra.min.css" integrity="sha512-xO0M5KAPcgkZEVPqvAQ2wakjrrsJAcrWROvDE4y1YaNuoB2+Q31kJAE48v520QxUgx/G9MmiOzw4q1eC/nV2cw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gridstack.js/5.0.0/gridstack-jq.min.js"
      integrity="sha512-oF8ns4Wj5mlG9yIfHYCz/gVsupgJ5TWV9LtSb7rlTkxkmj7htLvNpW39oMLHVB941mdHUDIkoF32Pn8IF9RsDw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>


    <script src="https://cdn.plyr.io/3.6.12/plyr.js"></script>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.12/plyr.css" />

<!--

  ICONS
-->

    
  <script type="module" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule="" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.js"></script>



    <style>

      /*
      https://codepen.io/tholman/pen/DgOpWz?editors=1100
      https://stackoverflow.com/questions/38023932/custom-scrollbar-only-in-one-div
      https://www.w3schools.com/howto/howto_css_custom_scrollbar.asp
      */
.style-1::-webkit-scrollbar-track
{
	-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
	border-radius: 10px;
	background-color: #F5F5F5;
}

.style-1::-webkit-scrollbar
{
	width: 12px;
	background-color: #F5F5F5;
}

.style-1::-webkit-scrollbar-thumb
{
	border-radius: 10px;
	-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
	background-color: #555;
}

      </style>
<style>
div.scrollmenu {
  background-color: #333;
  overflow: auto;
  white-space: nowrap;
}

div.scrollmenu a {
  display: inline-block;
  color: white;
  text-align: center;
  padding: 14px;
  text-decoration: none;
}

div.scrollmenu a:hover {
  background-color: #777;
}
      </style>
  </head>
  <body>
    <h1>LoveBoard demo</h1>
    <p>arma tu muro a tu gusto y conoce gente por sus gustos</p>
    <div>
      <span>Numero de columnas:</span> <span id="column-text"></span>
    </div>



<!--
    <div class="sidebar" style="height:auto">
      <div class="grid-stack-item">
        <div class="grid-stack-item-content">Drag me</div>
      </div>


      <div class="grid-stack-item">
        <div class="grid-stack-item-content style-1">
            <button onClick="player.togglePlay()">X</button><br>
          <div
            id="player"
            
            data-plyr-provider="youtube"
            data-plyr-embed-id="bTqVqk7FSmY"
          ></div></div>
      </div>



      <div class="grid-stack-item" gs-w="4" gs-h="2" gs-max-w="5">
        <div class="grid-stack-item-content">2x1, max=3</div>
      </div>
      <div class="grid-stack-item" gs-w="4" gs-h="2" gs-min-w="3">
        <div class="grid-stack-item-content">Photo</div>
      </div>
      <div class="grid-stack-item" gs-w="4" gs-h="2" gs-min-w="3">
        <div class="grid-stack-item-content"><br><iframe width="100%" height="100%" src="https://www.youtube-nocookie.com/embed/BRGwCgfS4Qk?autoplay=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
      </div>
      <div class="grid-stack-item" data-gs-x="0" data-gs-y="2" data-gs-width="2" data-gs-height="2" style="text-align: center; margin: 0 0;display: inline-block;">
        <div class="grid-stack-item-content"><img src="https://placeimg.com/100/100/animals" alt="michi" style="width:100%;vertical-align: middle;/*height:100%;*/"/></div>
      </div>
    



      <div class="grid-stack-item"
        data-gs-x="4" data-gs-y="0"
        data-gs-width="4" data-gs-height="4">
            <div class="grid-stack-item-content">
              Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
      </div>
      
    </div>
  <div class="newWidget grid-stack-item">
    <div class="grid-stack-item-content" style="padding: 5px;">
      <div>
        <ion-icon name="add-circle" style="font-size: 300%"></ion-icon>
      </div>
      <div>
        <span>Drag me in the dashboard!</span>
      </div>
    </div>
  </div>
  -->

  <!---->
</div>

    </div>
    <p> aqui puedes hacer que el tablero sea editable o no</p>
    <div>
      <a class="btn btn-primary" onClick="grid.setStatic(true)" href="#">Static</a>
      <a class="btn btn-primary" onclick="grid.setStatic(false)" id="float" href="#">Editable</a>
    </div>
    <p> aqui puedes arastrar los cuadrados verdes ubicados dentro de la region anaranjadan para eliminarlos</p>
    <div class="col-md-9">
      <div class="trash">
      </div>
  </div>
  <label class="switch">
    <input type="checkbox" checked onclick='handleSliderClick(this);'>
    <span class="slider round"></span>
  </label>
  
<textarea style="width: 100%;height: 100%;box-sizing: border-box;"></textarea></div>';

  <!--
    
          <div class="newWidget">
            <div class="grid-stack-item-content" style="padding: 5px;">
              <div>
                <ion-icon name="add-circle" style="font-size: 300%"></ion-icon>
              </div>
            <div>
            <span>Drag me in the dashboard!</span>
          </div>
        </div>
      </div>
  -->

  <!--
  <div class="newWidget grid-stack-item">
      <div class="grid-stack-item-content" style="padding: 5px;">
        <div>
          <ion-icon name="add-circle" style="font-size: 300%"></ion-icon>
        </div>
        <div>
          <span>Drag me in the dashboard!</span>
        </div>
      </div>
    </div>
    <div class="newWidget grid-stack-item">
        <div class="grid-stack-item-content" style="padding: 5px;">
          <div>
            <ion-icon name="add-circle" style="font-size: 300%"></ion-icon>
          </div>
          <div>
            <span>Drag me in the dashboard! 2</span>
          </div>
        </div>
      </div>

  -->

<p> estos cuadrados verdes los puedes mover y ajustar</p>

<div class="container">
  <div class="horizontal-scroll">
    <button class="btn-scroll" id="btn-scroll-left" onclick="scrollHorizontally(1)"><</button>
    <button class="btn-scroll" id="btn-scroll-right" onclick="scrollHorizontally(-1)">></i></button>
    <div class="storys-container">
        <div class="newWidget grid-stack-item">
          <div class="grid-stack-item-content" style="padding: 5px;">
            <div>
              <ion-icon name="add-circle" style="font-size: 300%"></ion-icon>
            </div>
            <div>
              <span>Drag me in the dashboard!</span>
            </div>
            <div class="drag-handle top" tabindex="-1"></div>
            <div class="drag-handle bottom" tabindex="-1"></div>
          </div>
        </div>
        <div class="newWidget grid-stack-item video-grid-stack-item">
          <div class="grid-stack-item-content" style="padding: 5px;">
            <div>
              <ion-icon name="logo-youtube" style="font-size: 300%"></ion-icon>
            </div>
            <div>
              <span>Let me in, Im a video</span>
            </div>
          </div>
        </div>
        <div class="newWidget grid-stack-item text-grid-stack-item">
          <div class="grid-stack-item-content" style="padding: 5px;">
            <div>
              <ion-icon name="add-circle" style="font-size: 300%"></ion-icon>
            </div>
            <div>
              <span>Im Text</span>
            </div>
          </div>
        </div>
        <div class="newWidget grid-stack-item photo-grid-stack-item">
          <div class="grid-stack-item-content" style="padding: 5px;">
            <div>
              <ion-icon name="md-image" style="font-size: 300%"></ion-icon>
            </div>
            <div>
              <span>Let me in, Im a photo</span>
            </div>
          </div>
        </div>
        <div class="newWidget grid-stack-item plyr-grid-stack-item">
          <div class="grid-stack-item-content" style="padding: 5px;">
            <div>
              <ion-icon name="logo-youtube" style="font-size: 300%"></ion-icon>
            </div>
            <div>
              <span>Let me in, Im the video plyr plugin</span>
            </div>
          </div>
        </div>
        <div class="newWidget grid-stack-item">
          <div class="grid-stack-item-content" style="padding: 5px;">
            <div>
              <ion-icon name="add-circle" style="font-size: 300%"></ion-icon>
            </div>
            <div>
              <span>Drag me in the dashboard! 4</span>
            </div>
          </div>
        </div>
        <div class="newWidget grid-stack-item">
          <div class="grid-stack-item-content" style="padding: 5px;">
            <div>
              <ion-icon name="add-circle" style="font-size: 300%"></ion-icon>
            </div>
            <div>
              <span>Drag me in the dashboard! 6</span>
            </div>
          </div>
        </div>
        <div class="newWidget grid-stack-item">
          <div class="grid-stack-item-content" style="padding: 5px;">
            <div>
              <ion-icon name="add-circle" style="font-size: 300%"></ion-icon>
            </div>
            <div>
              <span>Drag me in the dashboard! 7</span>
            </div>
          </div>
        </div>
          <!--
        <div class="story-circle"><img src="http://placekitten.com/50/50"></div>
        <div class="story-circle"><img src="https://loremflickr.com/50/50"></div>
        <div class="story-circle"><img src="https://loremflickr.com/50/50"></div>
        <div class="story-circle"><img src="http://placehold.jp/50x50.png"></div>
        <div class="story-circle"><img src="http://placekitten.com/50/50"></div>
        <div class="story-circle"><img src="https://loremflickr.com/50/50"></div>
        <div class="story-circle"><img src="https://loremflickr.com/50/50"></div>
        <div class="story-circle"><img src="http://placehold.jp/50x50.png"></div>
        <div class="story-circle"><img src="http://placekitten.com/50/50"></div>
        <div class="story-circle"><img src="https://loremflickr.com/50/50"></div>
        <div class="story-circle"><img src="https://loremflickr.com/50/50"></div>
        <div class="story-circle"><img src="http://placehold.jp/50x50.png"></div>

          -->
    </div>
  </div>
</div>
    <div class="grid-stack nomelacontainer"></div>
    
  </div>
  <h4>add a Widget</h4>
  <div>
    <a onClick="addWidget()" class="btn btn-primary" href="#">Add Widget</a>
  </div>
  <br></br>
  <textarea id="addtextwidget" name="Text1" cols="40" rows="5"></textarea>

  <br></br>

  <h1>Serialization demo</h1>
  <a onClick="saveGrid()" class="btn btn-primary" href="#">Save</a>
  <a onClick="loadGrid()" class="btn btn-primary" href="#">Load</a>
  <a onClick="saveFullGrid()" class="btn btn-primary" href="#">Save Full</a>
  <a onClick="loadFullGrid()" class="btn btn-primary" href="#">Load Full</a>
  <a onClick="clearGrid()" class="btn btn-primary" href="#">Clear</a>
  <br/><br/>
 
  <textarea id="saved-data" cols="30" rows="20" readonly="readonly" width="100%" ></textarea>
  <script src="events.js"></script>
    <script type="text/javascript">
    //  cols="100"
      let grid = GridStack.init({
        column: 6, // will auto switch on smaller screens
        row:10,
        disableOneColumnMode: true,
        float: true,
        acceptWidgets: true,
        resizable: {handles: "e, se, s, sw, w"},
   //draggable:{handle:'.drag-handle'},
        removable: true,
        staticGrid: false,
      //cellHeight: 'initial', // start square but will set to % of window width later

        //cellHeightUnit: "px",
        //cellHeight: 70, // make sure we have a decent height and not width/12 for 1 column
        alwaysShowResizeHandle: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
          navigator.userAgent
        )
      });
      let text = document.querySelector('#column-text');
    let layout = 'moveScale';
    
    function resizeGrid() {
      let width = document.body.clientWidth;
      if (width < 768) {
        //grid.column(4, layout).cellHeight('100vw');
        grid.column(6, layout)//.cellHeight('75px');
        text.innerHTML = 1;
      } else if (width < 850) {
        grid.column(6, layout)//.cellHeight('75px');
        text.innerHTML = 3;
      } else if (width < 950) {
        grid.column(6, layout)//.cellHeight('75px');
        text.innerHTML = 6;
      } else if (width < 1100) {
        grid.column(6, layout)//.cellHeight('75px');
        text.innerHTML = 8;
      } else {
        grid.column(6, layout)//.cellHeight('75px');
        text.innerHTML = 12;
      }



      /*
      if (width > 700) {
        grid.column(1, layout).cellHeight('100vw');
        text.innerHTML = 1;
      } else if (width < 850) {
        grid.column(3, layout).cellHeight('33.3333vw');
        text.innerHTML = 3;
      } else if (width < 950) {
        grid.column(6, layout).cellHeight('16.6666vw');
        text.innerHTML = 6;
      } else if (width < 1100) {
        grid.column(8, layout).cellHeight('12.25vw');
        text.innerHTML = 8;
      } else {
        grid.column(12, layout).cellHeight('8.3333vw');
        text.innerHTML = 12;
      }*/
    };
      addEvents(grid);

        /*
      grid.load([
        {x:0, y:0, content: '1'},
        {x:0, y:1, h:2, content: '2'},
        {x:0, y:3, content: '3'}

        { x: 0, y: 0, w: 2, content: "0" },
        { x: 2, y: 0, w: 2, h: 2, content: "1" },
        { x: 5, y: 0, content: "2" },
        { x: 1, y: 3, w: 4, content: "3" },
        { x: 5, y: 2, w: 2, content: "4" },
        { x: 0, y: 4, w: 12, content: "5" }
      ]);
*/


      //load
      /*
      let serializedData = [
      {x: 0, y: 0, w: 2, h: 2, id: '0'},
      {x: 3, y: 1, h: 2, id: 'no_move', noMove: true, content: 'no move'},
      {x: 4, y: 1, id: '2'},
      {x: 2, y: 3, w: 3, id: 'no_resize', noResize: true, content: 'no resize'},
      {x: 1, y: 3, id: 'locked', locked: true, content: 'locked'}
    ];
      grid.load(serializedData, true);
      */
      let serializedData = [];
      grid.load(serializedData, true);
      /*
      GridStack.setupDragIn(".sidebar .grid-stack-item", {
        revert: "invalid",
        scroll: false,
        appendTo: "body",
        helper: "clone"
      });
      */
      GridStack.setupDragIn(".newWidget", {
        revert: "invalid",
        scroll: false,
        appendTo: "body",
        helper: "clone"
      });

      resizeGrid(); // finally size to actual window

window.addEventListener('resize', function() {resizeGrid()});




      // save


      /*
    let serializedData = [];



    // 2.x method - just saving list of widgets with content (default)
    loadGrid = function() {
      grid.load(serializedData, true); // update things
    }

    // 2.x method
    saveGrid = function() {
      serializedData = grid.save();
      document.querySelector('#saved-data').value = JSON.stringify(serializedData, null, '  ');
    }

    // 3.1 full method saving the grid options + children (which is recursive for nested grids)
    saveFullGrid = function() {
      serializedFull = grid.save(true, true);
      serializedData = serializedFull.children;
      document.querySelector('#saved-data').value = JSON.stringify(serializedFull, null, '  ');
    }

    // 3.1 full method to reload from scratch - delete the grid and add it back from JSON
    loadFullGrid = function() {
      if (!serializedFull) return;
      grid.destroy(true); // nuke everything
      grid = GridStack.addGrid(document.querySelector('#gridCont'), serializedFull)
    }

    clearGrid = function() {
      grid.removeAll();
    }

    //loadGrid();
    */
    // 2.x method
    saveGrid = function() {
      serializedData = grid.save();
      document.querySelector('#saved-data').value = JSON.stringify(serializedData, null, '  ');
    }

    // 3.1 full method saving the grid options + children (which is recursive for nested grids)
    saveFullGrid = function() {
    console.log("demo");
      serializedFull = grid.save(true, true);
      serializedData = serializedFull.children;
      document.querySelector('#saved-data').value = JSON.stringify(serializedFull, null, '  ');

      var date = new Date();
      var dateString =
        ("0" + date.getDate()).slice(-2) + "-" +
        ("0" + (date.getUTCMonth()+1)).slice(-2) + "-" +
        date.getUTCFullYear() + " " +date.getUTCHours()+"-"+date.getUTCMinutes()+"-"+date.getUTCSeconds();
    console.log(dateString);


      downloadObjectAsJson(serializedFull,"loveboard_profile_"+dateString+".json")
    }







    // add text widget


    function addWidget() {
      var textforwidget = document.getElementById('addtextwidget').value


      grid.addWidget({w: Math.floor(1 + 3 * Math.random()), h: Math.floor(1 + 3 * Math.random()),content: textforwidget});
    };



    </script>
    <script>
      /*
       */
      // Change "{}" to your options:
      // https://github.com/sampotts/plyr/#options
      //const player = new Plyr("#player", {});

      // Expose player so it can be used from the console
      //window.player = player;
    </script>

    <script>
      function downloadObjectAsJson(exportObj, exportName){
    var dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(exportObj));
    var downloadAnchorNode = document.createElement('a');
    downloadAnchorNode.setAttribute("href",     dataStr);
    downloadAnchorNode.setAttribute("download", exportName + ".json");
    document.body.appendChild(downloadAnchorNode); // required for firefox
    downloadAnchorNode.click();
    downloadAnchorNode.remove();
  }
    
    function handleSliderClick(value) {
      var valuer = !(value.checked)
      console.log("handleSliderClick",valuer);

      grid.setStatic(valuer)
    }
    </script>
  </body>
  <link rel="stylesheet" href="horizontal_scroll_menu.css" />
  <script src="horizontal_scroll_menu.js"></script>
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
</html>
