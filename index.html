<!DOCTYPE html>
<html lang="en">
  <body>
    <!-- react cdn -->
    <meta charset="utf-8" />

    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <!-- bable cdn -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <div id="root"></div>
  </body>
  <script type="text/babel">
    const rootElement = document.getElementById("root");

    class ErrorBoundary extends React.Component {
      state = { error: null };
      static getDerivedStateFromError(error) {
        return { error };
      }
      render() {
        const { error } = this.state;
        if (error) {
          return this.props.fallback;
        }

        return this.props.children;
      }
    }

    const Child = () => {
      throw new Error("test Error");
      return <p>Child</p>;
    };

    const App = () => {
      return (
        <>
          <p>App</p>
          <ErrorBoundary fallback={<p>NewError!!</p>}>
            <Child />
          </ErrorBoundary>
          <ErrorBoundary fallback={<p>NewError22</p>}>
            <Child />
          </ErrorBoundary>
        </>
      );
    };

    ReactDOM.render(<App />, rootElement);
  </script>
</html>
