<!DOCTYPE html>
<html>
  <!-- import aframe and then ar.js with image tracking / location based features -->
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  <!-- style for the loader -->
  <style>
    .arjs-loader {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .arjs-loader div {
      text-align: center;
      font-size: 1.25em;
      color: white;
    }
  </style>
  <script>
    AFRAME.registerComponent("foneworxHandler", {
      init: function () {
        this.el.sceneEl.addEventListener("markerFound", () => {
          // redirect to custom URL
          this.el.sceneEl.addEventListener("click", () => {
            // redirect to custom URL
            //   window.location =
            //     "https://games.foneworx.co.za//foneworx-island-entry";

            openGameUrl("https://games.foneworx.co.za//foneworx-island-entry");
          });
        });

        // this.el.sceneEl.addEventListener("markerLost", () => {
        //   // Remove event.
        //   this.el.sceneEl.removeEventListener("click", () => {
        //     openGameUrl();
        //   });
        // });

        // this.el.sceneEl.addEventListener("click", () => {
        //   // redirect to custom URL
        //   //   window.location =
        //   //     "https://games.foneworx.co.za//foneworx-island-entry";

        //   openGameUrl();
        // });
      }
    });

    AFRAME.registerComponent("fourwaysreviewHandler", {
      init: function () {
        this.el.sceneEl.addEventListener("markerFound", () => {
          // redirect to custom URL
          this.el.sceneEl.addEventListener("click", () => {
            // redirect to custom URL
            //   window.location =
            //     "https://games.foneworx.co.za//foneworx-island-entry";

            openGameUrl("https://fourwaysreview.co.za");
          });
        });

        // this.el.sceneEl.addEventListener("markerLost", () => {
        //   // Remove event.
        //   this.el.sceneEl.removeEventListener("click", () => {
        //     openGameUrl();
        //   });
        // });

        // this.el.sceneEl.addEventListener("click", () => {
        //   // redirect to custom URL
        //   //   window.location =
        //   //     "https://games.foneworx.co.za//foneworx-island-entry";

        //   openGameUrl();
        // });
      }
    });

    AFRAME.registerComponent("randburgsunHandler", {
      init: function () {
        this.el.sceneEl.addEventListener("markerFound", () => {
          // redirect to custom URL
          this.el.sceneEl.addEventListener("click", () => {
            // redirect to custom URL
            //   window.location =
            //     "https://games.foneworx.co.za//foneworx-island-entry";

            openGameUrl("https://randburgsun.co.za");
          });
        });

        // this.el.sceneEl.addEventListener("markerLost", () => {
        //   // Remove event.
        //   this.el.sceneEl.removeEventListener("click", () => {
        //     openGameUrl();
        //   });
        // });

        // this.el.sceneEl.addEventListener("click", () => {
        //   // redirect to custom URL
        //   //   window.location =
        //   //     "https://games.foneworx.co.za//foneworx-island-entry";

        //   openGameUrl();
        // });
      }
    });

    window.addEventListener("arjs-nft-loaded", (event) => {
      // Hide loading overlay
      console.log("Loaded");
    });

    function openGameUrl(url) {
      link = document.createElement("a");
      link.href = url;
      link.target = "_blank";
      link.click();
    }
  </script>
  <body style="margin: 0px; overflow: hidden;">
    <a-scene
      vr-mode-ui="enabled: false;"
      renderer="logarithmicDepthBuffer: true;"
      embedded
      arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: false;"
    >
      <a-nft
        type="nft"
        url="./assets/logo_3"
        smooth="true"
        smoothCount="10"
        smoothTolerance=".01"
        smoothThreshold="5"
        markerhandler
      >
        <a-image
          scale="50 50 50"
          rotation="-90 0 0"
          position="0 0 -90"
          width="3"
          height="1.5"
          src="assets/giphy.gif"
        ></a-image>
        <a-image
          scale="60 60 60"
          rotation="-90 0 0"
          position="0 0 0"
          width="3"
          height="1.5"
          src="assets/competitiongraphicspirates_quarter.jpg"
        ></a-image>
      </a-nft>

      <a-nft
        type="nft"
        url="./assets/randburgsun"
        smooth="true"
        smoothCount="10"
        smoothTolerance=".01"
        smoothThreshold="5"
      >
        <a-image
          scale="10 10 10"
          rotation="-90 0 0"
          position="0 0 0"
          width="3"
          height="1.5"
          src="assets/feedback.png"
        ></a-image>
      </a-nft>

      <a-nft
        type="nft"
        url="./assets/fourwaysreview"
        smooth="true"
        smoothCount="10"
        smoothTolerance=".01"
        smoothThreshold="5"
      >
        <a-image
          scale="10 10 10"
          rotation="-90 0 0"
          position="0 0 0"
          width="3"
          height="1.5"
          src="assets/feedback.png"
        ></a-image>
      </a-nft>

      <!-- static camera that moves according to the device movemenents -->
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
